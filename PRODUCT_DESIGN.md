# DeepFlow 产品设计文档

## 1. 产品愿景 (Vision)
**DeepFlow** 的核心理念是**“人机共创的心流体验”**。
传统的 AI 写作工具往往试图“替代”人类写作（一键生成全文），而 DeepFlow 旨在“辅助”人类思考。我们希望用户在写作时感到如虎添翼，而不是被 AI 剥夺了表达的乐趣。

## 2. 核心用户画像 (Target Audience)
*   **深度写作者**: 撰写议论文、哲学随笔、深度博客的人群。
*   **学生与学者**: 需要理清逻辑结构，优化表达的学生。
*   **文字工作者**: 需要在此刻寻找灵感，或快速润色语句的编辑/文案。

## 3. 设计哲学 (Design Philosophy)

### 3.1 极简主义 (Minimalism)
*   **视觉降噪**: 界面只有纸张色背景和墨色文字。隐藏所有不必要的功能栏，直到用户需要它们。
*   **衬线字体**: 使用 `Noto Serif SC` 营造严肃、优雅的文学氛围。

### 3.2 分层交互 (Layered Interaction)
我们将 AI 介入分为两个层次，以保护用户的心流：
*   **被动层 (Passive)**: **幽灵文本**。当用户停顿时，AI 悄悄给出建议。用户可以选择忽略（继续打字）或接受（Tab）。这不会打断用户的思考节奏。
*   **主动层 (Active)**: **划词润色**与**全文优化**。这是用户主动发起的请求，AI 此时会占据视觉焦点，提供强有力的工具支持。

## 4. 功能模块详解

### 4.1 智能输入补全 (Ghost Text)
*   **场景**: 用户写到一半卡壳，或不知道如何承接上文。
*   **交互**:
    *   用户停止输入 600ms 后，AI 自动在光标后生成灰色半透明文字。
    *   AI 一次生成 3 个候选项（自然顺承、逻辑转折、修辞升华）。
    *   用户按 `Tab` 键确认填入。
    *   用户按 `Alt + ←/→` 轮播切换不同候选。
    *   用户继续打字，幽灵文字自动消失。

### 4.2 划词润色胶囊 (Selection Capsules)
*   **场景**: 用户对刚写的一句话不满意，觉得词不达意。
*   **交互**:
    *   用户选中一段文本。
    *   文本下方（行内）立即展开一个全宽度的工具栏。
    *   提供三个维度的建议：**纠错 (Fix)**、**润色 (Polish)**、**扩写 (Rewrite)**。
    *   点击即替换，并在原位恢复光标，方便继续写作。

### 4.3 结构化深度分析 (Structural Analysis)
*   **场景**: 文章写完后，需要宏观视角的建议。
*   **交互**:
    *   点击顶部“优化建议”按钮。
    *   右侧滑出面板。
    *   AI 分析全文，提供 5 个版本的重写建议（从基础语法到创意改写）。
    *   点击应用后，系统自动将当前版本存入“历史版本”，防止误操作丢失原稿。

### 4.4 灵感引擎 (Inspiration Engine)
*   **场景**: 面对空白文档，不知从何下笔。
*   **交互**:
    *   首页提供“灵感火花”卡片。
    *   支持随机生成哲学命题。
    *   支持用户输入关键词（Hint），生成定向命题。

## 5. UI/UX 细节规范
*   **主色调**: Paper (`#fcfbf7`), Ink (`#2c2c2c`), Accent (`#d97706` 琥珀色).
*   **动画**: 所有弹窗、面板切换均带有 `fade-in` 或 `slide-in` 动画，强调流畅感。
*   **状态反馈**: 顶部栏设有 AI 状态指示灯（Thinking, Ready, Idle），让用户感知 AI 的存在但不被其干扰。
